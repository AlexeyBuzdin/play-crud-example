@(apartment: Apartment, hotelForm: Form[Apartment])

@import helper._

@main {
    @if(apartment != null) {
        @form(routes.Apartments.update(apartment.id)) {

            Title: <input type="edit" name="title" value="@apartment.title"> <br/>


            Apartment type: <select name="apartmentTypeId">
                @for(apartmentType <- ApartmentType.all()){
                    <option value="@apartmentType.id" @if(apartment.apartmentType.id == apartmentType.id){selected="true"}>@apartmentType.title</option>
                }
            </select><br/>

            Capacity: <input type="edit" name="capacity" value="@apartment.capacity"> <br/>

            <input type="submit" value="Save"><br/>

            @if(apartment.proposals != null){
                <ul> @for(proposal <- apartment.proposals) {
                    <li onclick="location.href='/apartment/proposal/@proposal.id';">
                        @proposal.dateFrom
                        @proposal.dateTo
                        @proposal.price

                        <form action="/apartment/proposal/@proposal.id/delete" method="post">
                            <input type="submit" value="Delete">
                        </form>
                    </li>
                }</ul>
            }
            <a href="/apartment/@apartment.id/proposal/new">New Proposal</a>
        }
    }
}